ZADANIE 1
create table postac(id_postaci INTEGER primary key auto_increment,nazwa VARCHAR(40),rodzaj ENUM('wiking', 'ptak', 'kobieta'), data_ur DATE,wiek SMALLINT unsigned);
insert into postac(nazwa, rodzaj, data_ur, wiek) values('Bjorn','wiking','2000-03-2', 24),('Drozd', 'ptak', '2021-06-01', 3),('tesciowa','kobieta','1990-02-11',34);
update postac set wiek = 39 where nazwa = 'tesciowa'; 
ZADANIE 2
create table walizka(id_walizki INTEGER primary key auto_increment,pojemnosc SMALLINT unsigned,kolor ENUM('rozowy', 'czerwony', 'teczowy', 'zolty'), id_postaci INTEGER, FOREIGN KEY(id_postaci) references postac(id_postaci) on delete cascade);
alter table walizka Alter kolor set DEFAULT"rozowy";
insert into walizka(pojemnosc, kolor, id_postaci) values ('4', 'czerwony',1),('2', 'rozowy', 3);
select * from walizka;
ZADANIE 3 
create table izbazpolami(adres_budynku VARCHAR(30) primary key,nazwa_izby CHAR(30),metraz INTEGER unsigned,id_postaci INTEGER, FOREIGN KEY(id_postaci) references postac(id_postaci) ON DELETE SET NULL);
ALTER TABLE izbazpolami ADD kolorizby varchar(40) DEFAULT 'czarny' AFTER metraz;
INSERT INTO izbazpolami(adres_budynku, nazwa_izby) VALUES('szkolna', 'spizarnia');
ZADANIE 4
create table przetworyzpolami(id_przetworu VARCHAR(30) primary key, rok_produkcji YEAR DEFAULT (1654), id_wykonawcy INTEGER, FOREIGN KEY(id_wykonawcy) references postac(id_postaci), zawartosc VARCHAR(40), dodatek VARCHAR(40) DEFAULT 'papryczka chilli',id_konsumenta INTEGER,FOREIGN KEY(id_konsumenta) references postac(id_postaci));  
INSERT INTO przetworyzpolami(zawartosc) VALUES('bigos');
ZADANIE 5
insert into postac(nazwa, rodzaj, data_ur, wiek) values('geralt','wiking','2000-03-2', 24),('jaskier', 'wiking', '1999-03-01', 25),('tesc','wiking','1990-02-11',34),('zoltan','wiking','1980-02-11',44),('ja','wiking','2005-03-17',19);
create table statek(nazwa_statku VARCHAR(40) primary key, rodzaj_statku ENUM('statek1', 'statek2'), data_wodowanie DATE, max_ladownosc INT unsigned not null);
INSERT INTO statek(nazwa_statku, rodzaj_statku, data_wodowanie, max_ladownosc) values('czarna perla','statek1','2024-02-01', 6),('krazownik','statek2','2023-02-01', 6)
alter table postac add funkcja VARCHAR(40) AFTER wiek;
UPDATE postac SET funkcja = 'kapitan' where nazwa = 'bjorn';
alter table postac add nazwa_statku VARCHAR(40);
alter table postac add foreign key(nazwa_statku) references statek(nazwa_statku);
UPDATE postac SET nazwa_statku = 'czarna perla' where nazwa = 'bjorn';
UPDATE postac SET nazwa_statku = 'czarna perla' where nazwa = 'geralt';
UPDATE postac SET nazwa_statku = 'czarna perla' where nazwa = 'jaskier';
UPDATE postac SET nazwa_statku = 'krazownik' where nazwa = 'ja';
UPDATE postac SET nazwa_statku = 'krazownik' where nazwa = 'zoltan';
UPDATE postac SET nazwa_statku = 'krazownik' where nazwa = 'tesc';
UPDATE postac SET nazwa_statku = 'krazownik' where nazwa = 'Drozd';
DELETE FROM izbazpolami where nazwa_izby = 'spizarnia';
DROP TABLE izbazpolami;
--------------------LEKCJA 2------------------------
DELETE FROM postac WHERE nazwa IN ('Zoltan', 'Tesc');
ALTER TABLE walizka DROP FOREIGN KEY walizka_ibfk_1;
ALTER TABLE przetworyzpolami DROP FOREIGN KEY przetworyzpolami_ibfk_1;
ALTER TABLE przetworyzpolami DROP FOREIGN KEY przetworyzpolami_ibfk_2;
ALTER TABLE postac DROP FOREIGN KEY postac_ibfk_1;
ALTER TABLE postac MODIFY id_postaci INT NOT NULL;
ALTER TABLE postac DROP PRIMARY KEY;
Zadanie 2
ALTER TABLE postac ADD pesel int primary key auto_increment;
ALTER TABLE postac MODIFY Column pesel VARCHAR(11);
ALTER TABLE postac MODIFY rodzaj ENUM('wiking', 'ptak', 'kobieta', 'syrena');
INSERT INTO postac (id_postaci, pesel, nazwa, rodzaj, data_ur, wiek)  VALUES (9,'12345678901', 'Gertruda Nieszczera', 'syrena', '2001-07-15', 23);
UPDATE statek SET data_wodowanie = '1939-09-01' WHERE nazwa_statku = 'czarna perla';
UPDATE statek SET data_wodowanie = '1945-05-08' WHERE nazwa_statku = 'krazownik';
UPDATE postac SET nazwa_statku='czarna perla' WHERE NAZWA LIKE %a%;
SELECT max_ladownosc  * 0.7 FROM statek;
ALTER TABLE postac ADD CHECK (wiek<1000);
INSERT INTO postac (id_postaci, pesel, nazwa,data_ur, wiek)  VALUES (10,'12345678932', 'Loko', 'syrena', '2021-07-15', 3);
CREATE TABLE marynarz LIKE postac;
INSERT INTO marynarz SELECT * FROM postac WHERE nazwa_statku = 'czarna perla';
INSERT INTO marynarz SELECT * FROM postac WHERE nazwa_statku = 'krazownik';

Zadanie 5 
UPDATE postac SET nazwa_statku = NULL WHERE nazwa_statku = 'krazownik';
UPDATE postac SET nazwa_statku = NULL WHERE nazwa_statku = 'czarna perla';
UPDATE marynarz SET nazwa_statku = NULL WHERE nazwa_statku = 'krazownik';
UPDATE marynarz SET nazwa_statku = NULL WHERE nazwa_statku = 'czarna perla';
DELETE FROM postac WHERE nazwa = 'jaskier';
DELETE FROM marynarz WHERE nazwa = 'jaskier';
DROP TABLE statek;
ALTER TABLE postac drop column nazwa_statku;
ALTER TABLE marynarz drop column nazwa_statku;
create TABLE zwierz(id_zwierz INTEGER primary key auto_increment, nazwa varchar(40),wiek SMALLINT unsigned);
ALTER TABLE postac MODIFY rodzaj ENUM('wiking', 'ptak', 'kobieta', 'syrena','zwierz');
UPDATE postac SET rodzaj = 'zwierz' WHERE nazwa = 'Loko';
UPDATE marynarz SET rodzaj = 'zwierz' WHERE nazwa = 'Loko';
INSERT INTO zwierz (nazwa, wiek) VALUES ('Loko', 3);

LEKCJA 3-------------------------
zad1
CREATE TABLE kreatura AS SELECT * from wikingowie.kreatura;
CREATE TABLE zasob AS SELECT * from wikingowie.zasob;
CREATE TABLE ekwipunek AS SELECT * from wikingowie.ekwipunek;
select * from zasob;
select * from zasob where rodzaj = 'jedzenie';
select idzasobu, ilosc FROM ekwipunek where idkreatury in (1, 3, 5);
zad2
SELECT * FROM kreatura WHERE rodzaj != 'wiedzma' and udzwig >= 50;
SELECT * FROM zasob WHERE  2 <= waga and waga <= 5;
SELECT * FROM zasob WHERE waga between  2 and 5;
SELECT * FROM kreatura WHERE  nazwa LIKE '%or%' and udzwig>30 and udzwig<70;
zad3
select * from zasob where MONTH(dataPozyskania)= '7' and '8';
select * from zasob ORDER BY rodzaj ASC;
select * from kreatura ORDER BY dataUr desc limit 5;
Zad 4
select distinct rodzaj from zasob;
select CONCAT (nazwa, '-', rodzaj) as 'nazwa - rodzaj' from kreatura where rodzaj like 'wi%';
select nazwa, rodzaj, (ilosc * waga) AS waga_calkowita from zasob where YEAR(datapozyskania) Between 2000 and 2007;










